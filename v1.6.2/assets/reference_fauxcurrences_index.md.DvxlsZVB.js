import{_ as r,C as o,c as p,o as h,j as i,a,ag as n,G as t,w as l}from"./chunks/framework.C9Fq_MwJ.js";const V=JSON.parse('{"title":"Generation of fauxcurrences","description":"","frontmatter":{},"headers":[],"relativePath":"reference/fauxcurrences/index.md","filePath":"reference/fauxcurrences/index.md","lastUpdated":null}'),d={name:"reference/fauxcurrences/index.md"},k={class:"jldocstring custom-block",open:""},c={class:"jldocstring custom-block",open:""},u={class:"jldocstring custom-block",open:""},F={class:"jldocstring custom-block",open:""},g={class:"jldocstring custom-block",open:""},b={class:"jldocstring custom-block",open:""},B={class:"jldocstring custom-block",open:""},_={class:"jldocstring custom-block",open:""},y={class:"jldocstring custom-block",open:""},m={class:"jldocstring custom-block",open:""},f={class:"jldocstring custom-block",open:""},x={class:"jldocstring custom-block",open:""},j={class:"jldocstring custom-block",open:""},T={class:"jldocstring custom-block",open:""},v={class:"jldocstring custom-block",open:""},C={class:"jldocstring custom-block",open:""};function E(D,s,S,w,P,A){const e=o("Badge");return h(),p("div",null,[s[64]||(s[64]=i("h1",{id:"Generation-of-fauxcurrences",tabindex:"-1"},[a("Generation of fauxcurrences "),i("a",{class:"header-anchor",href:"#Generation-of-fauxcurrences","aria-label":'Permalink to "Generation of fauxcurrences {#Generation-of-fauxcurrences}"'},"​")],-1)),i("details",k,[i("summary",null,[s[0]||(s[0]=i("a",{id:"Fauxcurrences.bootstrap!",href:"#Fauxcurrences.bootstrap!"},[i("span",{class:"jlbinding"},"Fauxcurrences.bootstrap!")],-1)),s[1]||(s[1]=a()),t(e,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),s[3]||(s[3]=n('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes min-light min-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bootstrap!</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(sim</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> layer</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> obs</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> obs_intra</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> obs_inter</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> sim_intra</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> sim_inter)</span></span></code></pre></div><p>Generates the initial proposition for points - this function generates the points for all taxa at once, so some knowledge of the distance matrices is required. Note that this function is modifying the <em>bootstrapped</em> object, in order to make be as efficient as possible.</p><p>Specifically, the first point for each taxa is picked to respect the maximal inter-specific distances, and then the following points are picked to respect the intra and inter-specific distances. Points after the first one are added <em>at random</em>, so there can be an accumulation of points in some species early on.</p><p>Note that this function is not particularly efficient, but this is a little bit of over-head for every simulation. The only guarantee offered is that the distances are not above the maximal distances in the dataset, there is no reason to expect that the distribution of distances within or across taxa will be respected.</p>',4)),t(e,{type:"info",class:"source-link",text:"source"},{default:l(()=>s[2]||(s[2]=[i("a",{href:"https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/a7eb1abab43fcb6733c815e51e8e7417728ff75c/Fauxcurrences/src/bootstrap.jl#L1-L19",target:"_blank",rel:"noreferrer"},"source",-1)])),_:1,__:[2]})]),i("details",c,[i("summary",null,[s[4]||(s[4]=i("a",{id:"Fauxcurrences.preallocate_simulated_points",href:"#Fauxcurrences.preallocate_simulated_points"},[i("span",{class:"jlbinding"},"Fauxcurrences.preallocate_simulated_points")],-1)),s[5]||(s[5]=a()),t(e,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),s[7]||(s[7]=n('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes min-light min-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">preallocate_simulated_points</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(obs</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> samples</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">size</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">.(obs</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#1976D2;--shiki-dark:#F8F8F8;"> 2</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">))</span></span></code></pre></div><p>Create an empty matrix given a series of observations, and a number of samples to keep in the simulated dataset for each series of observations.</p>',2)),t(e,{type:"info",class:"source-link",text:"source"},{default:l(()=>s[6]||(s[6]=[i("a",{href:"https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/a7eb1abab43fcb6733c815e51e8e7417728ff75c/Fauxcurrences/src/bootstrap.jl#L67-L72",target:"_blank",rel:"noreferrer"},"source",-1)])),_:1,__:[6]})]),i("details",u,[i("summary",null,[s[8]||(s[8]=i("a",{id:"Fauxcurrences.get_valid_coordinates",href:"#Fauxcurrences.get_valid_coordinates"},[i("span",{class:"jlbinding"},"Fauxcurrences.get_valid_coordinates")],-1)),s[9]||(s[9]=a()),t(e,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),s[11]||(s[11]=n('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes min-light min-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get_valid_coordinates</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(observations</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#1976D2;--shiki-dark:#79B8FF;">R</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> layer</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#1976D2;--shiki-dark:#79B8FF;">T</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">) </span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> {R </span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> AbstractOccurrenceCollection</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> T </span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> SDMLayer</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">}</span></span></code></pre></div><p>Get the coordinates for a list of observations, filtering the ones that do not correspond to valid layer positions. Valid layer positions are defined as falling within a valued pixel from the layer.</p>',2)),t(e,{type:"info",class:"source-link",text:"source"},{default:l(()=>s[10]||(s[10]=[i("a",{href:"https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/a7eb1abab43fcb6733c815e51e8e7417728ff75c/Fauxcurrences/src/coordinates.jl#L1-L7",target:"_blank",rel:"noreferrer"},"source",-1)])),_:1,__:[10]})]),i("details",F,[i("summary",null,[s[12]||(s[12]=i("a",{id:"Fauxcurrences.step!",href:"#Fauxcurrences.step!"},[i("span",{class:"jlbinding"},"Fauxcurrences.step!")],-1)),s[13]||(s[13]=a()),t(e,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),s[15]||(s[15]=n('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes min-light min-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">Fauxcurrences</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">step!</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(sim</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> layer</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> W</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> obs_intra</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> obs_inter</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> sim_intra</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> sim_inter</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> bin_intra</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> bin_inter</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> bin_s_intra</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> bin_s_inter</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> distance)</span></span></code></pre></div>',1)),t(e,{type:"info",class:"source-link",text:"source"},{default:l(()=>s[14]||(s[14]=[i("a",{href:"https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/a7eb1abab43fcb6733c815e51e8e7417728ff75c/Fauxcurrences/src/step.jl#L1-L3",target:"_blank",rel:"noreferrer"},"source",-1)])),_:1,__:[14]})]),i("details",g,[i("summary",null,[s[16]||(s[16]=i("a",{id:"Fauxcurrences._random_point",href:"#Fauxcurrences._random_point"},[i("span",{class:"jlbinding"},"Fauxcurrences._random_point")],-1)),s[17]||(s[17]=a()),t(e,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),s[19]||(s[19]=n('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes min-light min-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_random_point</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(ref</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> d</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> R</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">Fauxcurrences</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">_earth_radius)</span></span></code></pre></div><p>This solves the direct (first) geodetic problem assuming Haversine distances are a correct approximation of the distance between points.</p>',2)),t(e,{type:"info",class:"source-link",text:"source"},{default:l(()=>s[18]||(s[18]=[i("a",{href:"https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/a7eb1abab43fcb6733c815e51e8e7417728ff75c/Fauxcurrences/src/utilities.jl#L1-L6",target:"_blank",rel:"noreferrer"},"source",-1)])),_:1,__:[18]})]),i("details",b,[i("summary",null,[s[20]||(s[20]=i("a",{id:"Fauxcurrences._generate_new_random_point",href:"#Fauxcurrences._generate_new_random_point"},[i("span",{class:"jlbinding"},"Fauxcurrences._generate_new_random_point")],-1)),s[21]||(s[21]=a()),t(e,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),s[23]||(s[23]=n('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes min-light min-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_generate_new_random_point</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(layer</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> points</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> distances)</span></span></code></pre></div><p>Generates a new random point (that must fall within a valued cell of <code>layer</code>) based on a collection of <code>points</code> and a <code>Dxy</code> distance matrix. The algorithm works by sampling a point, a distance in the matrix, and then generates a new point through a call to <code>_random_point</code>. Note that the distance is multiplied by the square root of a random deviate within the unit interval, in order to have points that fall uniformly within the circle defined by the sampled distance. In the absence of this correction, the distribution of points is biased towards the center.</p>',2)),t(e,{type:"info",class:"source-link",text:"source"},{default:l(()=>s[22]||(s[22]=[i("a",{href:"https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/a7eb1abab43fcb6733c815e51e8e7417728ff75c/Fauxcurrences/src/utilities.jl#L22-L33",target:"_blank",rel:"noreferrer"},"source",-1)])),_:1,__:[22]})]),i("details",B,[i("summary",null,[s[24]||(s[24]=i("a",{id:"Fauxcurrences._bin_distribution",href:"#Fauxcurrences._bin_distribution"},[i("span",{class:"jlbinding"},"Fauxcurrences._bin_distribution")],-1)),s[25]||(s[25]=a()),t(e,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),s[27]||(s[27]=n('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes min-light min-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_bin_distribution</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(D</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#1976D2;--shiki-dark:#79B8FF;">Matrix{Float64}</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> m</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#1976D2;--shiki-dark:#79B8FF;">Float64</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#1976D2;--shiki-dark:#79B8FF;">Vector{Float64}</span></span></code></pre></div><p>Bin a distance matrix, using a default count of 20 bins. This function is instrumental in the package, as it is used internally to calculate the divergence between the observed and simulated distances distributions. This specific implementation had the least-worst performance during a series of benchmarks, but in practice the package is going to spend a lot of time running it. It is a prime candidate for optimisation.</p>',2)),t(e,{type:"info",class:"source-link",text:"source"},{default:l(()=>s[26]||(s[26]=[i("a",{href:"https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/a7eb1abab43fcb6733c815e51e8e7417728ff75c/Fauxcurrences/src/utilities.jl#L46-L55",target:"_blank",rel:"noreferrer"},"source",-1)])),_:1,__:[26]})]),i("details",_,[i("summary",null,[s[28]||(s[28]=i("a",{id:"Fauxcurrences._bin_distribution!",href:"#Fauxcurrences._bin_distribution!"},[i("span",{class:"jlbinding"},"Fauxcurrences._bin_distribution!")],-1)),s[29]||(s[29]=a()),t(e,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),s[31]||(s[31]=n('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes min-light min-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_bin_distribution!</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(c</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#1976D2;--shiki-dark:#79B8FF;">Vector{Float64}</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> D</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#1976D2;--shiki-dark:#79B8FF;">Matrix{Float64}</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> m</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#1976D2;--shiki-dark:#79B8FF;">Float64</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#1976D2;--shiki-dark:#79B8FF;">Vector{Float64}</span></span></code></pre></div><p>In-place allocation of the distribution binning. This function is the one that is used internally to over-write the scores.</p>',2)),t(e,{type:"info",class:"source-link",text:"source"},{default:l(()=>s[30]||(s[30]=[i("a",{href:"https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/a7eb1abab43fcb6733c815e51e8e7417728ff75c/Fauxcurrences/src/utilities.jl#L61-L66",target:"_blank",rel:"noreferrer"},"source",-1)])),_:1,__:[30]})]),i("details",y,[i("summary",null,[s[32]||(s[32]=i("a",{id:"Fauxcurrences._distance_between_binned_distributions",href:"#Fauxcurrences._distance_between_binned_distributions"},[i("span",{class:"jlbinding"},"Fauxcurrences._distance_between_binned_distributions")],-1)),s[33]||(s[33]=a()),t(e,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),s[35]||(s[35]=n('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes min-light min-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">_distance_between_binned_distributions</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(p</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> q)</span></span></code></pre></div><p>Returns the Jensen-Shannon distance (i.e. the square root of the JS divergence) for the two distance matrices. This version is preferred to the KL divergence in the original implementation as it prevents the <code>Inf</code> values when p(x)=0 and q(x)&gt;0. The JS divergences is bounded between 0 and the natural log of 2, which gives an absolute measure of fit allowing to compare the solutions. Note that the value returned is <em>already</em> corrected, so it can be at most 1.0, and at best (identical matrices) 0.</p>',2)),t(e,{type:"info",class:"source-link",text:"source"},{default:l(()=>s[34]||(s[34]=[i("a",{href:"https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/a7eb1abab43fcb6733c815e51e8e7417728ff75c/Fauxcurrences/src/utilities.jl#L80-L90",target:"_blank",rel:"noreferrer"},"source",-1)])),_:1,__:[34]})]),i("details",m,[i("summary",null,[s[36]||(s[36]=i("a",{id:"Fauxcurrences.preallocate_distance_matrices",href:"#Fauxcurrences.preallocate_distance_matrices"},[i("span",{class:"jlbinding"},"Fauxcurrences.preallocate_distance_matrices")],-1)),s[37]||(s[37]=a()),t(e,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),s[39]||(s[39]=n('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes min-light min-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">preallocate_distance_matrices</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(obs</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> samples</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">size</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">.(obs</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#1976D2;--shiki-dark:#F8F8F8;"> 2</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">))</span></span></code></pre></div><p>Generates the internal distance matrices.</p>',2)),t(e,{type:"info",class:"source-link",text:"source"},{default:l(()=>s[38]||(s[38]=[i("a",{href:"https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/a7eb1abab43fcb6733c815e51e8e7417728ff75c/Fauxcurrences/src/utilities.jl#L95-L99",target:"_blank",rel:"noreferrer"},"source",-1)])),_:1,__:[38]})]),i("details",f,[i("summary",null,[s[40]||(s[40]=i("a",{id:"Fauxcurrences.measure_intraspecific_distances!",href:"#Fauxcurrences.measure_intraspecific_distances!"},[i("span",{class:"jlbinding"},"Fauxcurrences.measure_intraspecific_distances!")],-1)),s[41]||(s[41]=a()),t(e,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),s[43]||(s[43]=n('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes min-light min-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">measure_intraspecific_distances!</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(intra</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> obs</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> updated</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#1976D2;--shiki-dark:#F8F8F8;">1</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">length</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(obs))</span></span></code></pre></div><p>Updates the matrices for intraspecific distances; note that internally, the <code>updated</code> keyword argument is going to change, to only replace what needs to be replaced.</p>',2)),t(e,{type:"info",class:"source-link",text:"source"},{default:l(()=>s[42]||(s[42]=[i("a",{href:"https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/a7eb1abab43fcb6733c815e51e8e7417728ff75c/Fauxcurrences/src/utilities.jl#L114-L120",target:"_blank",rel:"noreferrer"},"source",-1)])),_:1,__:[42]})]),i("details",x,[i("summary",null,[s[44]||(s[44]=i("a",{id:"Fauxcurrences.measure_interspecific_distances!",href:"#Fauxcurrences.measure_interspecific_distances!"},[i("span",{class:"jlbinding"},"Fauxcurrences.measure_interspecific_distances!")],-1)),s[45]||(s[45]=a()),t(e,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),s[47]||(s[47]=n('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes min-light min-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">measure_interspecific_distances!</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(inter</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> obs</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> updated</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#1976D2;--shiki-dark:#F8F8F8;">1</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">length</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(obs))</span></span></code></pre></div><p>Updates the matrices for interspecific distances; note that internally, the <code>updated</code> keyword argument is going to change, to only replace what needs to be replaced.</p>',2)),t(e,{type:"info",class:"source-link",text:"source"},{default:l(()=>s[46]||(s[46]=[i("a",{href:"https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/a7eb1abab43fcb6733c815e51e8e7417728ff75c/Fauxcurrences/src/utilities.jl#L129-L135",target:"_blank",rel:"noreferrer"},"source",-1)])),_:1,__:[46]})]),i("details",j,[i("summary",null,[s[48]||(s[48]=i("a",{id:"Fauxcurrences.score_distributions",href:"#Fauxcurrences.score_distributions"},[i("span",{class:"jlbinding"},"Fauxcurrences.score_distributions")],-1)),s[49]||(s[49]=a()),t(e,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),s[51]||(s[51]=n('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes min-light min-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">score_distributions</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(W</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> bin_intra</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> bin_s_intra</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> bin_inter</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> bin_s_inter)</span></span></code></pre></div><p>Performs the actual score of the distributions, based on the weight matrix.</p>',2)),t(e,{type:"info",class:"source-link",text:"source"},{default:l(()=>s[50]||(s[50]=[i("a",{href:"https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/a7eb1abab43fcb6733c815e51e8e7417728ff75c/Fauxcurrences/src/utilities.jl#L153-L157",target:"_blank",rel:"noreferrer"},"source",-1)])),_:1,__:[50]})]),i("details",T,[i("summary",null,[s[52]||(s[52]=i("a",{id:"Fauxcurrences.equal_weights",href:"#Fauxcurrences.equal_weights"},[i("span",{class:"jlbinding"},"Fauxcurrences.equal_weights")],-1)),s[53]||(s[53]=a()),t(e,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),s[55]||(s[55]=n('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes min-light min-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">equal_weights</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(n)</span></span></code></pre></div><p>All matrices have the same weight</p>',2)),t(e,{type:"info",class:"source-link",text:"source"},{default:l(()=>s[54]||(s[54]=[i("a",{href:"https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/a7eb1abab43fcb6733c815e51e8e7417728ff75c/Fauxcurrences/src/weightmatrices.jl#L1-L5",target:"_blank",rel:"noreferrer"},"source",-1)])),_:1,__:[54]})]),i("details",v,[i("summary",null,[s[56]||(s[56]=i("a",{id:"Fauxcurrences.weighted_components",href:"#Fauxcurrences.weighted_components"},[i("span",{class:"jlbinding"},"Fauxcurrences.weighted_components")],-1)),s[57]||(s[57]=a()),t(e,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),s[59]||(s[59]=n('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes min-light min-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">weighted_components</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(n</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> intra)</span></span></code></pre></div><p>The intra-specific component has relative weight <code>intra</code> – for a value of 1.0, the model is a purely intra-specific one</p>',2)),t(e,{type:"info",class:"source-link",text:"source"},{default:l(()=>s[58]||(s[58]=[i("a",{href:"https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/a7eb1abab43fcb6733c815e51e8e7417728ff75c/Fauxcurrences/src/weightmatrices.jl#L16-L21",target:"_blank",rel:"noreferrer"},"source",-1)])),_:1,__:[58]})]),i("details",C,[i("summary",null,[s[60]||(s[60]=i("a",{id:"Fauxcurrences.equally_weighted_components",href:"#Fauxcurrences.equally_weighted_components"},[i("span",{class:"jlbinding"},"Fauxcurrences.equally_weighted_components")],-1)),s[61]||(s[61]=a()),t(e,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),s[63]||(s[63]=n('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes min-light min-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">equally_weighted_components</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(n)</span></span></code></pre></div><p>The intra and inter components have the same weight, which means the inter-specific matrices can have less cumulative weight</p>',2)),t(e,{type:"info",class:"source-link",text:"source"},{default:l(()=>s[62]||(s[62]=[i("a",{href:"https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/a7eb1abab43fcb6733c815e51e8e7417728ff75c/Fauxcurrences/src/weightmatrices.jl#L36-L41",target:"_blank",rel:"noreferrer"},"source",-1)])),_:1,__:[62]})])])}const I=r(d,[["render",E]]);export{V as __pageData,I as default};
