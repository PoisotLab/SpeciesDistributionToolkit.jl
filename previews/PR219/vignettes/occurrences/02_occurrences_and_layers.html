<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Occurrences and layers · Species Distribution Toolkit</title><meta name="title" content="Occurrences and layers · Species Distribution Toolkit"/><meta property="og:title" content="Occurrences and layers · Species Distribution Toolkit"/><meta property="twitter:title" content="Occurrences and layers · Species Distribution Toolkit"/><meta name="description" content="Documentation for Species Distribution Toolkit."/><meta property="og:description" content="Documentation for Species Distribution Toolkit."/><meta property="twitter:description" content="Documentation for Species Distribution Toolkit."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../index.html">Species Distribution Toolkit</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../index.html">Index</a></li><li><span class="tocitem">Vignettes</span><ul><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox"/><label class="tocitem" for="menuitem-2-1"><span class="docs-label">Working with layers</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../layers/01_consensus_landcover_map.html">Creating a landcover consensus map</a></li><li><a class="tocitem" href="../layers/02_layers_arithmetic.html">Layer arithmetic</a></li><li><a class="tocitem" href="../layers/03_working_with_climate_data.html">Working with climate data</a></li><li><a class="tocitem" href="../layers/04_creating_masks.html">Creating masks of layers</a></li><li><a class="tocitem" href="../layers/05_tiling.html">Splitting layers in tiles</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2-2"><span class="docs-label">Working with occurrences</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="01_getting_data_from_gbif.html">Getting data from GBIF</a></li><li class="is-active"><a class="tocitem" href="02_occurrences_and_layers.html">Occurrences and layers</a></li><li><a class="tocitem" href="03_fauxcurrences.html">Generation of fauxcurrences</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox"/><label class="tocitem" for="menuitem-2-3"><span class="docs-label">Integration examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../integration/01_statistics_on_layers.html">Statistics on layers</a></li><li><a class="tocitem" href="../integration/02_pseudo_absences.html">Generating background points</a></li></ul></li></ul></li><li><span class="tocitem">List of datasets</span><ul><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox"/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">CHELSA1</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../datasets/CHELSA1/AverageTemperature.html">AverageTemperature</a></li><li><a class="tocitem" href="../../datasets/CHELSA1/BioClim.html">BioClim</a></li><li><a class="tocitem" href="../../datasets/CHELSA1/MaximumTemperature.html">MaximumTemperature</a></li><li><a class="tocitem" href="../../datasets/CHELSA1/MinimumTemperature.html">MinimumTemperature</a></li><li><a class="tocitem" href="../../datasets/CHELSA1/Precipitation.html">Precipitation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">CHELSA2</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../datasets/CHELSA2/AverageTemperature.html">AverageTemperature</a></li><li><a class="tocitem" href="../../datasets/CHELSA2/BioClim.html">BioClim</a></li><li><a class="tocitem" href="../../datasets/CHELSA2/MaximumTemperature.html">MaximumTemperature</a></li><li><a class="tocitem" href="../../datasets/CHELSA2/MinimumTemperature.html">MinimumTemperature</a></li><li><a class="tocitem" href="../../datasets/CHELSA2/Precipitation.html">Precipitation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">EarthEnv</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../datasets/EarthEnv/HabitatHeterogeneity.html">HabitatHeterogeneity</a></li><li><a class="tocitem" href="../../datasets/EarthEnv/LandCover.html">LandCover</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">WorldClim2</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../datasets/WorldClim2/AverageTemperature.html">AverageTemperature</a></li><li><a class="tocitem" href="../../datasets/WorldClim2/BioClim.html">BioClim</a></li><li><a class="tocitem" href="../../datasets/WorldClim2/Elevation.html">Elevation</a></li><li><a class="tocitem" href="../../datasets/WorldClim2/MaximumTemperature.html">MaximumTemperature</a></li><li><a class="tocitem" href="../../datasets/WorldClim2/MinimumTemperature.html">MinimumTemperature</a></li><li><a class="tocitem" href="../../datasets/WorldClim2/Precipitation.html">Precipitation</a></li><li><a class="tocitem" href="../../datasets/WorldClim2/SolarRadiation.html">SolarRadiation</a></li><li><a class="tocitem" href="../../datasets/WorldClim2/WaterVaporPressure.html">WaterVaporPressure</a></li><li><a class="tocitem" href="../../datasets/WorldClim2/WindSpeed.html">WindSpeed</a></li></ul></li></ul></li><li><span class="tocitem">Component packages</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">SpeciesDistributionToolkit.jl</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../manual/SpeciesDistributionToolkit/index.html">Work with species occurrence data</a></li><li><a class="tocitem" href="../../manual/SpeciesDistributionToolkit/gbif.jl.html">Occurrences and layers</a></li><li><a class="tocitem" href="../../manual/SpeciesDistributionToolkit/pseudoabsences.html">Pseudo-absences</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Phylopic.jl</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../manual/Phylopic/index.html">Integration with Phylopic</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">SimpleSDMLayers.jl</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../manual/SimpleSDMLayers/index.html">Easy manipulation of layers</a></li><li><a class="tocitem" href="../../manual/SimpleSDMLayers/types.html">Layer data representation</a></li><li><a class="tocitem" href="../../manual/SimpleSDMLayers/basics.html">Basic information on layers</a></li><li><a class="tocitem" href="../../manual/SimpleSDMLayers/operations.html">Operations on layers</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4"><span class="docs-label">GBIF.jl</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../manual/GBIF/index.html">Interface to GBIF data</a></li><li><a class="tocitem" href="../../manual/GBIF/types.html">GBIF data representation</a></li><li><a class="tocitem" href="../../manual/GBIF/data.html">GBIF data retrieval</a></li><li><a class="tocitem" href="../../manual/GBIF/enums.html">Enumerated query parameters</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-5" type="checkbox"/><label class="tocitem" for="menuitem-4-5"><span class="docs-label">SimpleSDMDatasets.jl</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../manual/SimpleSDMDatasets/index.html">Interface to raster data</a></li><li><a class="tocitem" href="../../manual/SimpleSDMDatasets/dev/types.html">Dataset representation</a></li><li><a class="tocitem" href="../../manual/SimpleSDMDatasets/dev/interface.html">Data retrieval interface</a></li><li><a class="tocitem" href="../../manual/SimpleSDMDatasets/dev/internals.html">Internals</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Vignettes</a></li><li><a class="is-disabled">Working with occurrences</a></li><li class="is-active"><a href="02_occurrences_and_layers.html">Occurrences and layers</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="02_occurrences_and_layers.html">Occurrences and layers</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/PoisotLab/SpeciesDistributionToolkit.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/main/docs/src/vignettes/occurrences/02_occurrences_and_layers.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Occurrences-and-layers"><a class="docs-heading-anchor" href="#Occurrences-and-layers">Occurrences and layers</a><a id="Occurrences-and-layers-1"></a><a class="docs-heading-anchor-permalink" href="#Occurrences-and-layers" title="Permalink"></a></h1><p>In this vignette, we will have a look at the ways in which occurrence data (from GBIF) and layer data can interact. In order to illustrate this, we will get information about the occurrences of <em>Sitta whiteheadi</em>, a species of bird endemic to Corsica. Finally, we will rely on the <code>Phylopic</code> package to download a silhouette of a bat to illustrate the figure.</p><pre><code class="language-julia hljs">using SpeciesDistributionToolkit
using CairoMakie
import Images
import Downloads</code></pre><p>This sets up a bounding box for the region of interest:</p><pre><code class="language-julia hljs">spatial_extent = (left = 8.412, bottom = 41.325, right = 9.662, top = 43.060)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(left = 8.412, bottom = 41.325, right = 9.662, top = 43.06)</code></pre><p>We will get our bioclimatic variable from CHELSA:</p><pre><code class="language-julia hljs">dataprovider = RasterData(CHELSA1, BioClim)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">RasterData{CHELSA1, BioClim}(CHELSA1, BioClim)</code></pre><p>The next step is to download the layers, making sure to correct the scale of the temperature (BIO1), which is multiplied by 10 in the CHELSA raw data:</p><pre><code class="language-julia hljs">temperature = 0.1SimpleSDMPredictor(dataprovider; layer = &quot;BIO1&quot;, spatial_extent...)
precipitation = SimpleSDMPredictor(dataprovider; layer = &quot;BIO12&quot;, spatial_extent...)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">SDM predictor → 209×151 grid with 14432 Int16-valued cells
  Latitudes	41.32486058585001 ⇢ 43.06652724555003
  Longitudes	8.408193690850005 ⇢ 9.666527019150003</code></pre><p>Once we have the layer, we can grab the occurrence data from GBIF:</p><pre><code class="language-julia hljs">species = taxon(&quot;Sitta whiteheadi&quot;)
observations = occurrences(
    species,
    &quot;decimalLatitude&quot; =&gt; (spatial_extent.bottom, spatial_extent.top),
    &quot;decimalLongitude&quot; =&gt; (spatial_extent.left, spatial_extent.right),
    &quot;limit&quot; =&gt; 300,
    &quot;occurrenceStatus&quot; =&gt; &quot;PRESENT&quot;,
)
while length(observations) &lt; count(observations)
    occurrences!(observations)
end</code></pre><p>We can now setup a figure with the correct axes, and use the <code>layer[occurrence]</code> indexing method to extract the values from the layers at the location of each occurrence.</p><pre><code class="language-julia hljs">figure = Figure(; resolution = (800, 400))

envirovars =
    Axis(figure[1, 1]; xlabel = &quot;Temperature (°C)&quot;, ylabel = &quot;Precipitation (kg×m⁻²)&quot;)

scatter!(envirovars, temperature[observations], precipitation[observations], markersize=6, color=:black)

current_figure()</code></pre><img src="02_occurrences_and_layers-d5d1ab72.png" alt="Example block output"/><p>In order to also show these on the map, we will add a simple heatmap to the left of the figure, and overlay the points using <code>longitudes</code> and <code>latitudes</code> for the observations:</p><pre><code class="language-julia hljs">spmap = Axis(figure[1, 2]; aspect = DataAspect())
hidedecorations!(spmap)
hidespines!(spmap)
heatmap!(spmap, temperature; colormap = :heat)
scatter!(spmap, observations; color = :black, markersize=6)
current_figure()</code></pre><img src="02_occurrences_and_layers-8d8ac7e3.png" alt="Example block output"/><p>We can now add a silhouette of the species using Phylopic. We only want a single item here, and the search will by default be restricted to images that can be used with the least constraints. Note that we are searching using the <code>GBIFTaxon</code> object representing our species.</p><pre><code class="language-julia hljs">sp_uuid = Phylopic.imagesof(species; items = 1)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;Sitta carolinensis&quot; =&gt; UUID(&quot;4f24cf78-48d8-42ab-9e12-18853528c73c&quot;)</code></pre><p>The next step is to get the url of the image – we are going to get the largest thumbnail (which is the default):</p><pre><code class="language-julia hljs">sp_thumbnail_url = Phylopic.thumbnail(sp_uuid)
sp_thumbnail_tmp = Downloads.download(sp_thumbnail_url)
sp_image = Images.load(sp_thumbnail_tmp)</code></pre><img src="data:image/png;base64,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"><p>We can also check how to credit the person who created this image. This will create a markdown string, with the node name, the contributor name, and a link to the license.</p><pre><code class="language-julia hljs">Phylopic.attribution(sp_uuid)</code></pre><div class="markdown"><p>Image of <em>Sitta carolinensis</em> provided by <a href="https://creativecommons.org/publicdomain/zero/1.0/">Andy Wilson</a></p>
</div><p>We can now use this image in a scatter plot – this uses the thumbnail as a scatter symbol, so we need to plot this like any other point. Because the thumbnail returned by default is rather large, we can rescale it based on the image size:</p><pre><code class="language-julia hljs">sp_size = Vec2f(reverse(size(sp_image) ./ 3))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2-element GeometryBasics.Vec{2, Float32} with indices SOneTo(2):
 64.0
 64.0</code></pre><p>Finally, we can plot everything (note that the Phylopic images have a transparent background, so we are not hiding any information!):</p><pre><code class="language-julia hljs">scatter!(envirovars, [3.0], [700.0]; marker = sp_image, markersize = sp_size)
current_figure()</code></pre><img src="02_occurrences_and_layers-de9c0e5c.png" alt="Example block output"/><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="01_getting_data_from_gbif.html">« Getting data from GBIF</a><a class="docs-footer-nextpage" href="03_fauxcurrences.html">Generation of fauxcurrences »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Tuesday 31 October 2023 14:08">Tuesday 31 October 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
