import{_ as l,c as o,a2 as e,j as s,a as t,G as n,B as p,o as h}from"./chunks/framework.CrHZADjh.js";const I=JSON.parse('{"title":"Integration with the Phylopic API","description":"","frontmatter":{},"headers":[],"relativePath":"index.md","filePath":"index.md","lastUpdated":null}'),r={name:"index.md"},d={class:"jldocstring custom-block",open:""},c={class:"jldocstring custom-block",open:""},k={class:"jldocstring custom-block",open:""},u={class:"jldocstring custom-block",open:""},g={class:"jldocstring custom-block",open:""},b={class:"jldocstring custom-block",open:""},y={class:"jldocstring custom-block",open:""},m={class:"jldocstring custom-block",open:""},f={class:"jldocstring custom-block",open:""},E={class:"jldocstring custom-block",open:""},j={class:"jldocstring custom-block",open:""};function F(P,i,v,C,D,A){const a=p("Badge");return h(),o("div",null,[i[33]||(i[33]=e('<h1 id="Integration-with-the-Phylopic-API" tabindex="-1">Integration with the Phylopic API <a class="header-anchor" href="#Integration-with-the-Phylopic-API" aria-label="Permalink to &quot;Integration with the Phylopic API {#Integration-with-the-Phylopic-API}&quot;">​</a></h1><p>The <code>Phylopic.jl</code> package offers a simple wrapper on the <a href="https://www.phylopic.org/" target="_blank" rel="noreferrer">Phylopic</a> API, to collect silhouettes of species for plots. At the moment, it is a minimal viable product that allows to search for the UUID of images by taxonomic names, then to retrieve the vector file or the thumbnail associated to each image. It also provides the ability to store the credit information for all of the images used in a project.</p><h2 id="Finding-images-by-names" tabindex="-1">Finding images by names <a class="header-anchor" href="#Finding-images-by-names" aria-label="Permalink to &quot;Finding images by names {#Finding-images-by-names}&quot;">​</a></h2>',3)),s("details",d,[s("summary",null,[i[0]||(i[0]=s("a",{id:"Phylopic.autocomplete",href:"#Phylopic.autocomplete"},[s("span",{class:"jlbinding"},"Phylopic.autocomplete")],-1)),i[1]||(i[1]=t()),n(a,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[2]||(i[2]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Phylopic</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">autocomplete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Performs an autocomplete query based on a string, which must be at least two characters in length.</p><p>This function will return an <em>array</em> of strings, which can be empty if there are no matches. In you want to do things depending on the values returned, check them with <code>isempty</code>, not <code>isnothing</code>.</p><p>The output of this function, when not empty, can be passed to either <code>Phylopic.nodes</code> or <code>Phylopic.images</code> using their <code>filter_name</code> keyword argument. Note that the <code>filter_name</code> argument accepts a <em>single</em> name, not an array of names.</p><p><a href="https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/0065e4af5264b9556089f7be1418c7d91b74ec45/Phylopic/src/autocomplete.jl#L1-L9" target="_blank" rel="noreferrer">source</a></p>',5))]),s("details",c,[s("summary",null,[i[3]||(i[3]=s("a",{id:"Phylopic.imagesof",href:"#Phylopic.imagesof"},[s("span",{class:"jlbinding"},"Phylopic.imagesof")],-1)),i[4]||(i[4]=t()),n(a,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[5]||(i[5]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">imagesof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AbstractString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; items</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, attribution</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sharealike</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, nocommercial</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Returns a mapping between names and UUIDs of images for a given text (see also <code>Phylopic.autocomplete</code> to find relevant names). By default, the search will return images that come without BY, SA, and NC clauses (<em>i.e.</em> public domain dedication), but this can be changed using the keyword arguments.</p><p><code>items</code> : Default to 1 : Specifies the number of items to return. When a single item is returned, it is return as a pair mapping the name to the UUID; when there are more than 1, they are returned as a dictionary</p><p><code>attribution</code> : Default to <code>false</code> : Specifies whether the images returned require attribution to the creator</p><p><code>sharealike</code> : Default to <code>false</code> : Specifies whether the images returned require sharing of derived products using a license with a SA clause</p><p><code>nocommercial</code> : Default to <code>false</code> : Specifies whether the images returned are prevented from being used in commercial projects</p><p><a href="https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/0065e4af5264b9556089f7be1418c7d91b74ec45/Phylopic/src/imagesof.jl#L16-L36" target="_blank" rel="noreferrer">source</a></p>',7))]),i[34]||(i[34]=s("h2",{id:"Retrieving-images",tabindex:"-1"},[t("Retrieving images "),s("a",{class:"header-anchor",href:"#Retrieving-images","aria-label":'Permalink to "Retrieving images {#Retrieving-images}"'},"​")],-1)),s("details",k,[s("summary",null,[i[6]||(i[6]=s("a",{id:"Phylopic.thumbnail",href:"#Phylopic.thumbnail"},[s("span",{class:"jlbinding"},"Phylopic.thumbnail")],-1)),i[7]||(i[7]=t()),n(a,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[8]||(i[8]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Phylopic</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">thumbnail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(uuid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">UUIDs.UUID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; resolution</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">192</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Returns the URL (if it exists) to the thumbnails for the silhouette. The thumbnail <code>resolution</code> can be <code>64</code>, <code>128</code>, or <code>192</code> (the default).</p><p><a href="https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/0065e4af5264b9556089f7be1418c7d91b74ec45/Phylopic/src/images.jl#L31-L35" target="_blank" rel="noreferrer">source</a></p>',3))]),s("details",u,[s("summary",null,[i[9]||(i[9]=s("a",{id:"Phylopic.vector",href:"#Phylopic.vector"},[s("span",{class:"jlbinding"},"Phylopic.vector")],-1)),i[10]||(i[10]=t()),n(a,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[11]||(i[11]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Phylopic</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">vector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(uuid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">UUIDs.UUID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Returns the URL (if it exists) to the original vector image for the silhouette. Note that the image must be identified by its UUID, not by a string.</p><p><a href="https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/0065e4af5264b9556089f7be1418c7d91b74ec45/Phylopic/src/images.jl#L1-L5" target="_blank" rel="noreferrer">source</a></p>',3))]),s("details",g,[s("summary",null,[i[12]||(i[12]=s("a",{id:"Phylopic.twitterimage",href:"#Phylopic.twitterimage"},[s("span",{class:"jlbinding"},"Phylopic.twitterimage")],-1)),i[13]||(i[13]=t()),n(a,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[14]||(i[14]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Phylopic</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">twitterimage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(uuid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">UUIDs.UUID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Returns the twitter image for a UUID.</p><p><a href="https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/0065e4af5264b9556089f7be1418c7d91b74ec45/Phylopic/src/images.jl#L11-L15" target="_blank" rel="noreferrer">source</a></p>',3))]),s("details",b,[s("summary",null,[i[15]||(i[15]=s("a",{id:"Phylopic.source",href:"#Phylopic.source"},[s("span",{class:"jlbinding"},"Phylopic.source")],-1)),i[16]||(i[16]=t()),n(a,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[17]||(i[17]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Phylopic</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(uuid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">UUIDs.UUID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Returns the source image for a UUID.</p><p><a href="https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/0065e4af5264b9556089f7be1418c7d91b74ec45/Phylopic/src/images.jl#L21-L25" target="_blank" rel="noreferrer">source</a></p>',3))]),s("details",y,[s("summary",null,[i[18]||(i[18]=s("a",{id:"Phylopic.raster",href:"#Phylopic.raster"},[s("span",{class:"jlbinding"},"Phylopic.raster")],-1)),i[19]||(i[19]=t()),n(a,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[20]||(i[20]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Phylopic</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">raster</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(uuid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">UUIDs.UUID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, resl)</span></span></code></pre></div><p>Returns the URL to an image in raster format, at the given resolution. Available resolutions for any image can be obtained with <code>Phylopic.available_resolutions</code>.</p><p><a href="https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/0065e4af5264b9556089f7be1418c7d91b74ec45/Phylopic/src/images.jl#L72-L76" target="_blank" rel="noreferrer">source</a></p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Phylopic</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">raster</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(uuid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">UUIDs.UUID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Returns the URL to an image in raster format when no resolution is specified. In this case, the first (usually the largest) image will be returned.</p><p><a href="https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/0065e4af5264b9556089f7be1418c7d91b74ec45/Phylopic/src/images.jl#L87-L91" target="_blank" rel="noreferrer">source</a></p>',6))]),i[35]||(i[35]=s("h2",{id:"Additional-functions",tabindex:"-1"},[t("Additional functions "),s("a",{class:"header-anchor",href:"#Additional-functions","aria-label":'Permalink to "Additional functions {#Additional-functions}"'},"​")],-1)),s("details",m,[s("summary",null,[i[21]||(i[21]=s("a",{id:"Phylopic.attribution",href:"#Phylopic.attribution"},[s("span",{class:"jlbinding"},"Phylopic.attribution")],-1)),i[22]||(i[22]=t()),n(a,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[23]||(i[23]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Phylopic</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">attribution</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(uuid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">UUIDs.UUID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Generates a string for the attribution of an image, as identified by its <code>uuid</code>. This string is markdown-formatted, and will include a link to the license.</p><p><a href="https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/0065e4af5264b9556089f7be1418c7d91b74ec45/Phylopic/src/attribution.jl#L1-L5" target="_blank" rel="noreferrer">source</a></p>',3))]),s("details",f,[s("summary",null,[i[24]||(i[24]=s("a",{id:"Phylopic.available_resolutions",href:"#Phylopic.available_resolutions"},[s("span",{class:"jlbinding"},"Phylopic.available_resolutions")],-1)),i[25]||(i[25]=t()),n(a,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[26]||(i[26]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Phylopic</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">available_resolutions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(uuid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">UUIDs.UUID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Returns the available resolutions for a raster image given its UUID. The resolutions are given as a string, and can be passed as a second argument to the <code>Phylopic.raster</code> function. As the raster sizes can be different, there is no default argument to Phylopic.raster, and the first image will be used instead.</p><p><a href="https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/0065e4af5264b9556089f7be1418c7d91b74ec45/Phylopic/src/images.jl#L53-L57" target="_blank" rel="noreferrer">source</a></p>',3))]),i[36]||(i[36]=s("h2",{id:"API-interaction-functions",tabindex:"-1"},[t("API interaction functions "),s("a",{class:"header-anchor",href:"#API-interaction-functions","aria-label":'Permalink to "API interaction functions {#API-interaction-functions}"'},"​")],-1)),s("details",E,[s("summary",null,[i[27]||(i[27]=s("a",{id:"Phylopic.ping",href:"#Phylopic.ping"},[s("span",{class:"jlbinding"},"Phylopic.ping")],-1)),i[28]||(i[28]=t()),n(a,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[29]||(i[29]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Phylopic</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>This function will perform a simple ping of the API, and return <code>nothing</code> if it is responding, and throw and <code>ErrorException</code> (containing the string <code>&quot;not responding&quot;</code>) if the API does not returns a <code>204 No Content</code> success status.</p><p><a href="https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/0065e4af5264b9556089f7be1418c7d91b74ec45/Phylopic/src/ping.jl#L4-L8" target="_blank" rel="noreferrer">source</a></p>',3))]),s("details",j,[s("summary",null,[i[30]||(i[30]=s("a",{id:"Phylopic.build",href:"#Phylopic.build"},[s("span",{class:"jlbinding"},"Phylopic.build")],-1)),i[31]||(i[31]=t()),n(a,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[32]||(i[32]=e('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Phylopic</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>Returns the current build to perform the queries</p><p><a href="https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/0065e4af5264b9556089f7be1418c7d91b74ec45/Phylopic/src/ping.jl#L19-L23" target="_blank" rel="noreferrer">source</a></p>',3))])])}const w=l(r,[["render",F]]);export{I as __pageData,w as default};
