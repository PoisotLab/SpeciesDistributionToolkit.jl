import{_ as o,C as r,c as p,o as h,ag as t,j as s,G as a,a as l,w as n}from"./chunks/framework.QSTTRxzO.js";const T=JSON.parse('{"title":"Working with polygons","description":"","frontmatter":{},"headers":[],"relativePath":"reference/integration/polygons.md","filePath":"reference/integration/polygons.md","lastUpdated":null}'),k={name:"reference/integration/polygons.md"},d={class:"jldocstring custom-block",open:""},g={class:"jldocstring custom-block",open:""},c={class:"jldocstring custom-block",open:""},y={class:"jldocstring custom-block",open:""};function F(u,i,b,m,f,B){const e=r("Badge");return h(),p("div",null,[i[20]||(i[20]=t('<h1 id="Working-with-polygons" tabindex="-1">Working with polygons <a class="header-anchor" href="#Working-with-polygons" aria-label="Permalink to &quot;Working with polygons {#Working-with-polygons}&quot;">​</a></h1><p>The package assumes that the polygons are read using <a href="https://github.com/JuliaGeo/GeoJSON.jl" target="_blank" rel="noreferrer">the <code>GeoJSON.jl</code> package</a>. As per <a href="https://datatracker.ietf.org/doc/html/rfc7946" target="_blank" rel="noreferrer">RFC7946</a>, the coordinates in the polygon must be WGS84.</p><h2 id="masking" tabindex="-1">Masking <a class="header-anchor" href="#masking" aria-label="Permalink to &quot;Masking&quot;">​</a></h2><div class="warning custom-block"><p class="custom-block-title">Missing docstring.</p><p>Missing docstring for <code>SimpleSDMLayers.mask!(layer::SDMLayer, multipolygon::GeoJSON.MultiPolygon)</code>. Check Documenter&#39;s build log for details.</p></div><h2 id="trimming" tabindex="-1">Trimming <a class="header-anchor" href="#trimming" aria-label="Permalink to &quot;Trimming&quot;">​</a></h2>',5)),s("details",d,[s("summary",null,[i[0]||(i[0]=s("a",{id:"SpeciesDistributionToolkit.trim",href:"#SpeciesDistributionToolkit.trim"},[s("span",{class:"jlbinding"},"SpeciesDistributionToolkit.trim")],-1)),i[1]||(i[1]=l()),a(e,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[4]||(i[4]=t('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes min-light min-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">trim</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(layer</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#1976D2;--shiki-dark:#79B8FF;">SDMLayer</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">)</span></span></code></pre></div><p>Returns a layer in which there are no empty rows/columns around the valued cells. This returns a <em>new</em> object. This will only remove the <em>terminal</em> empty rows/columns, so that gaps <em>inside</em> the layer are not affected.</p>',2)),a(e,{type:"info",class:"source-link",text:"source"},{default:n(()=>i[2]||(i[2]=[s("a",{href:"https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/fc3ff4c0bbdbd1e4adbebe117edf2e721b055072/src/polygons/polygons.jl#L1-L6",target:"_blank",rel:"noreferrer"},"source",-1)])),_:1,__:[2]}),i[5]||(i[5]=t('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes min-light min-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">trim</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(layer</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#1976D2;--shiki-dark:#79B8FF;">SDMLayer</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> feature</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#1976D2;--shiki-dark:#79B8FF;">T</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">) </span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> {T </span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> GeoJSON.GeoJSONT</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">}</span></span></code></pre></div><p>Return a trimmed version of a layer, according to the feature defined a <code>GeoJSON</code> object. The object is first masked according to the <code>feature</code>, and then trimmed.</p>',2)),a(e,{type:"info",class:"source-link",text:"source"},{default:n(()=>i[3]||(i[3]=[s("a",{href:"https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/fc3ff4c0bbdbd1e4adbebe117edf2e721b055072/src/polygons/polygons.jl#L26-L31",target:"_blank",rel:"noreferrer"},"source",-1)])),_:1,__:[3]})]),i[21]||(i[21]=s("h2",{id:"Mosaic-and-zonal-like-operations",tabindex:"-1"},[l("Mosaic and zonal-like operations "),s("a",{class:"header-anchor",href:"#Mosaic-and-zonal-like-operations","aria-label":'Permalink to "Mosaic and zonal-like operations {#Mosaic-and-zonal-like-operations}"'},"​")],-1)),s("details",g,[s("summary",null,[i[6]||(i[6]=s("a",{id:"SimpleSDMLayers.mosaic",href:"#SimpleSDMLayers.mosaic"},[s("span",{class:"jlbinding"},"SimpleSDMLayers.mosaic")],-1)),i[7]||(i[7]=l()),a(e,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[10]||(i[10]=t('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes min-light min-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mosaic</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(f</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> stack</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#1976D2;--shiki-dark:#79B8FF;">Vector{&lt;:SDMLayer}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">)</span></span></code></pre></div><p>Returns a layer that is the application of <code>f</code> to the values at each cell in the array of layers given as the second argument.</p>',2)),a(e,{type:"info",class:"source-link",text:"source"},{default:n(()=>i[8]||(i[8]=[s("a",{href:"https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/fc3ff4c0bbdbd1e4adbebe117edf2e721b055072/SimpleSDMLayers/src/mosaic.jl#L1-L6",target:"_blank",rel:"noreferrer"},"source",-1)])),_:1,__:[8]}),i[11]||(i[11]=t('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes min-light min-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">SimpleSDMLayers</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mosaic</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(f</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> layer</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> polygons)</span></span></code></pre></div><p>Overload of the mosaic function where the layer is split according to the polygons given as the last argument, and then the function <code>f</code> is applied to all the zones defined this way. The <code>f</code> function can take both positional and keyword arguments.</p>',2)),a(e,{type:"info",class:"source-link",text:"source"},{default:n(()=>i[9]||(i[9]=[s("a",{href:"https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/fc3ff4c0bbdbd1e4adbebe117edf2e721b055072/src/polygons/mosaic.jl#L1-L5",target:"_blank",rel:"noreferrer"},"source",-1)])),_:1,__:[9]})]),s("details",c,[s("summary",null,[i[12]||(i[12]=s("a",{id:"SpeciesDistributionToolkit.zone",href:"#SpeciesDistributionToolkit.zone"},[s("span",{class:"jlbinding"},"SpeciesDistributionToolkit.zone")],-1)),i[13]||(i[13]=l()),a(e,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[15]||(i[15]=t('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes min-light min-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">zone</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(layer</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#1976D2;--shiki-dark:#79B8FF;">SDMLayer</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> polygons</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#1976D2;--shiki-dark:#79B8FF;">Vector{T}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">) </span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">where</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> {T </span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">&lt;:</span><span style="--shiki-light:#1976D2;--shiki-dark:#79B8FF;"> Union{Polygon,MultiPolygon,Feature,FeatureCollection}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">}</span></span></code></pre></div><p>Returns a layer in which the value of each pixel is set to the index of the polygon to which it belongs. Initially valued cells that are not part of a polygon are turned off.</p>',2)),a(e,{type:"info",class:"source-link",text:"source"},{default:n(()=>i[14]||(i[14]=[s("a",{href:"https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/fc3ff4c0bbdbd1e4adbebe117edf2e721b055072/src/polygons/zonal.jl#L1-L5",target:"_blank",rel:"noreferrer"},"source",-1)])),_:1,__:[14]})]),s("details",y,[s("summary",null,[i[16]||(i[16]=s("a",{id:"SpeciesDistributionToolkit.byzone",href:"#SpeciesDistributionToolkit.byzone"},[s("span",{class:"jlbinding"},"SpeciesDistributionToolkit.byzone")],-1)),i[17]||(i[17]=l()),a(e,{type:"info",class:"jlObjectType jlFunction",text:"Function"})]),i[19]||(i[19]=t('<div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes min-light min-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">byzone</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(f</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> layer</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#1976D2;--shiki-dark:#79B8FF;">SDMLayer</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> polygons</span><span style="--shiki-light:#212121;--shiki-dark:#BBBBBB;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;"> polygonsnames </span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#1976D2;--shiki-dark:#F8F8F8;"> 1</span><span style="--shiki-light:#D32F2F;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">length</span><span style="--shiki-light:#24292EFF;--shiki-dark:#B392F0;">(polygons))</span></span></code></pre></div><p>Applies the function <code>f</code> to all cells that belong to the same polygon, and returns the output as a dictionary. The function given as an argument can take both positional and keyword arguments.</p>',2)),a(e,{type:"info",class:"source-link",text:"source"},{default:n(()=>i[18]||(i[18]=[s("a",{href:"https://github.com/PoisotLab/SpeciesDistributionToolkit.jl/blob/fc3ff4c0bbdbd1e4adbebe117edf2e721b055072/src/polygons/zonal.jl#L19-L23",target:"_blank",rel:"noreferrer"},"source",-1)])),_:1,__:[18]})])])}const S=o(k,[["render",F]]);export{T as __pageData,S as default};
